# NewsNow Python 版本配置文件
# 复制此文件为 .env 并根据需要修改配置

# ================================
# MongoDB 数据库配置
# ================================
# MongoDB 主机地址
MONGODB_HOST=localhost
# MongoDB 端口
MONGODB_PORT=27017
# 数据库名称
MONGODB_DATABASE=newsnow
# MongoDB 用户名（可选）
MONGODB_USERNAME=
# MongoDB 密码（可选）
MONGODB_PASSWORD=
# 认证数据库
MONGODB_AUTH_SOURCE=admin
# 完整的 MongoDB URI（可选，会覆盖上面的单独配置）
# MONGODB_URI=mongodb://username:password@localhost:27017/newsnow?authSource=admin

# ================================
# 调度器配置
# ================================
# 新闻获取间隔（秒），默认 300 秒（5分钟）
FETCH_INTERVAL=300
# 每个新闻源最大获取新闻数量
MAX_NEWS_PER_SOURCE=50
# 最大并发新闻源数量
MAX_CONCURRENT_SOURCES=5
# 启动时是否立即获取新闻
FETCH_ON_START=true

# ================================
# 数据清理配置
# ================================
# 是否启用数据清理
CLEANUP_ENABLED=true
# 数据清理时间（24小时制，格式：HH:MM）
CLEANUP_TIME=02:00
# 数据保留天数
DATA_RETENTION_DAYS=30

# ================================
# 网络请求配置
# ================================
# 请求超时时间（秒）
REQUEST_TIMEOUT=30
# 最大重试次数
MAX_RETRIES=3
# 重试延迟（秒）
RETRY_DELAY=1
# 用户代理字符串
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# ================================
# 代理配置
# ================================
# 是否启用代理
PROXY_ENABLED=false
# 是否启用代理轮换
PROXY_ROTATION=false
# HTTP 代理地址（格式：http://host:port 或 http://user:pass@host:port）
HTTP_PROXY=
# HTTPS 代理地址
HTTPS_PROXY=
# 代理文件路径（每行一个代理地址）
PROXY_FILE=

# ================================
# 日志配置
# ================================
# 日志级别：DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# 日志文件路径
LOG_FILE=logs/newsnow.log
# 日志轮转周期（如：1 day, 1 week, 100 MB）
LOG_ROTATION=1 day
# 日志保留时间（如：30 days, 1 week）
LOG_RETENTION=30 days

# ================================
# 运行模式配置
# ================================
# 是否启用调试模式
DEBUG=false
# 运行环境：development, production, testing
ENVIRONMENT=production

# ================================
# 代理配置（可选）
# ================================
# 是否启用代理（失败2次后自动使用代理）
PROXY_ENABLED=false
# 代理列表（逗号分隔），支持 http/https/socks5 代理
# 格式：http://proxy1:port,https://user:pass@proxy2:port,socks5://proxy3:port
PROXY_LIST=
# 是否启用代理轮询（true=轮询使用，false=随机选择）
PROXY_ROTATION=true
# 代理测试URL（用于检测代理可用性）
PROXY_TEST_URL=https://httpbin.org/ip
# 启动时是否测试所有代理
PROXY_TEST_ON_START=true

# ================================
# 新闻源配置（可选）
# ================================
# 启用的新闻源列表（逗号分隔，留空表示启用所有）
# ENABLED_SOURCES=hackernews,36kr,zhihu
# 禁用的新闻源列表（逗号分隔）
# DISABLED_SOURCES=

# ================================
# 高级配置（通常不需要修改）
# ================================
# 数据库连接池大小
# MONGODB_MAX_POOL_SIZE=100
# 数据库连接超时（毫秒）
# MONGODB_CONNECT_TIMEOUT=10000
# 数据库操作超时（毫秒）
# MONGODB_SERVER_SELECTION_TIMEOUT=5000