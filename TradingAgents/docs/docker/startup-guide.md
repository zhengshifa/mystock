# Dockerå¯åŠ¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### ğŸ“‹ åŸºæœ¬å¯åŠ¨å‘½ä»¤

```bash
# æ—¥å¸¸å¯åŠ¨ï¼ˆæ¨èï¼‰- ä½¿ç”¨ç°æœ‰é•œåƒ
docker-compose up -d

# é¦–æ¬¡å¯åŠ¨æˆ–ä»£ç å˜æ›´ - é‡æ–°æ„å»ºé•œåƒ
docker-compose up -d --build
```

### ğŸ§  æ™ºèƒ½å¯åŠ¨ï¼ˆæ¨èï¼‰

æ™ºèƒ½å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ„å»ºé•œåƒï¼š

#### Windowsç¯å¢ƒ
```powershell
# æ–¹æ³•1ï¼šç›´æ¥è¿è¡Œ
powershell -ExecutionPolicy Bypass -File scripts\smart_start.ps1

# æ–¹æ³•2ï¼šåœ¨PowerShellä¸­è¿è¡Œ
.\scripts\smart_start.ps1
```

#### Linux/Macç¯å¢ƒ
```bash
# æ·»åŠ æ‰§è¡Œæƒé™å¹¶è¿è¡Œ
chmod +x scripts/smart_start.sh
./scripts/smart_start.sh

# æˆ–è€…ä¸€è¡Œå‘½ä»¤
chmod +x scripts/smart_start.sh && ./scripts/smart_start.sh
```

## ğŸ”§ å¯åŠ¨å‚æ•°è¯´æ˜

### `--build` å‚æ•°ä½¿ç”¨åœºæ™¯

| åœºæ™¯ | æ˜¯å¦éœ€è¦ `--build` | åŸå›  |
|------|-------------------|------|
| é¦–æ¬¡å¯åŠ¨ | âœ… éœ€è¦ | é•œåƒä¸å­˜åœ¨ï¼Œéœ€è¦æ„å»º |
| ä»£ç ä¿®æ”¹å | âœ… éœ€è¦ | éœ€è¦å°†æ–°ä»£ç æ‰“åŒ…åˆ°é•œåƒ |
| ä¾èµ–æ›´æ–°å | âœ… éœ€è¦ | requirements.txtå˜åŒ– |
| Dockerfileä¿®æ”¹ | âœ… éœ€è¦ | æ„å»ºé…ç½®å˜åŒ– |
| æ—¥å¸¸é‡å¯ | âŒ ä¸éœ€è¦ | é•œåƒå·²å­˜åœ¨ä¸”æ— å˜åŒ– |
| å®¹å™¨å¼‚å¸¸é‡å¯ | âŒ ä¸éœ€è¦ | é—®é¢˜é€šå¸¸ä¸åœ¨é•œåƒå±‚é¢ |

### æ™ºèƒ½å¯åŠ¨åˆ¤æ–­é€»è¾‘

1. **æ£€æŸ¥é•œåƒå­˜åœ¨æ€§**
   - é•œåƒä¸å­˜åœ¨ â†’ æ‰§è¡Œ `docker-compose up -d --build`
   
2. **æ£€æŸ¥ä»£ç å˜åŒ–**
   - æœ‰æœªæäº¤çš„ä»£ç å˜åŒ– â†’ æ‰§è¡Œ `docker-compose up -d --build`
   - æ— ä»£ç å˜åŒ– â†’ æ‰§è¡Œ `docker-compose up -d`

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§å¯åŠ¨é—®é¢˜

1. **ç«¯å£å†²çª**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   netstat -ano | findstr :8501  # Windows
   lsof -i :8501                 # Linux/Mac
   ```

2. **é•œåƒæ„å»ºå¤±è´¥**
   ```bash
   # æ¸…ç†å¹¶é‡æ–°æ„å»º
   docker-compose down
   docker system prune -f
   docker-compose up -d --build
   ```

3. **å®¹å™¨å¯åŠ¨å¤±è´¥**
   ```bash
   # æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
   docker-compose logs web
   docker-compose logs mongodb
   docker-compose logs redis
   ```

### æ’æŸ¥å·¥å…·

ä½¿ç”¨é¡¹ç›®æä¾›çš„æ’æŸ¥è„šæœ¬ï¼š

```bash
# Windows
powershell -ExecutionPolicy Bypass -File scripts\debug_docker.ps1

# Linux/Mac
chmod +x scripts/debug_docker.sh && ./scripts/debug_docker.sh
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| å¯åŠ¨æ–¹å¼ | é¦–æ¬¡å¯åŠ¨æ—¶é—´ | åç»­å¯åŠ¨æ—¶é—´ | é€‚ç”¨åœºæ™¯ |
|----------|-------------|-------------|----------|
| `docker-compose up -d --build` | ~3-5åˆ†é’Ÿ | ~3-5åˆ†é’Ÿ | å¼€å‘ç¯å¢ƒï¼Œä»£ç é¢‘ç¹å˜æ›´ |
| `docker-compose up -d` | ~3-5åˆ†é’Ÿ | ~10-30ç§’ | ç”Ÿäº§ç¯å¢ƒï¼Œç¨³å®šè¿è¡Œ |
| æ™ºèƒ½å¯åŠ¨è„šæœ¬ | ~3-5åˆ†é’Ÿ | ~10-30ç§’ | æ¨èï¼Œè‡ªåŠ¨ä¼˜åŒ– |

## ğŸ¯ æœ€ä½³å®è·µ

1. **å¼€å‘ç¯å¢ƒ**ï¼šä½¿ç”¨æ™ºèƒ½å¯åŠ¨è„šæœ¬
2. **ç”Ÿäº§ç¯å¢ƒ**ï¼šé¦–æ¬¡éƒ¨ç½²ç”¨ `--build`ï¼Œåç»­ç”¨æ™®é€šå¯åŠ¨
3. **CI/CD**ï¼šå§‹ç»ˆä½¿ç”¨ `--build` ç¡®ä¿æœ€æ–°ä»£ç 
4. **æ•…éšœæ’é™¤**ï¼šå…ˆå°è¯•æ™®é€šé‡å¯ï¼Œå†è€ƒè™‘é‡æ–°æ„å»º